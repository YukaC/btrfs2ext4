Start testing: Feb 24 12:36 -03
----------------------------------------------------------
1/2 Testing: stress_test
1/2 Test: stress_test
Command: "/home/yuka/Proyectos/btrfs2ext4/build/test_stress"
Directory: /home/yuka/Proyectos/btrfs2ext4/build
"stress_test" start time: Feb 24 12:36 -03
Output:
----------------------------------------------------------

â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘   btrfs2ext4 â€” Stress / Vulnerability / Performance Tests      â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

â”€â”€â”€ GROUP 1: Corrupted Superblock â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  [TEST   1] Corrupted superblock: bad magic number                  btrfs2ext4: invalid btrfs magic: 0xdededededededede (expected 0x4d5f53665248425f)
=== Phase 1: Reading Btrfs Metadata ===

Step 1/6: Reading superblock...
[32mPASS[0m
  [TEST   2] Corrupted superblock: all zeros                         btrfs2ext4: invalid btrfs magic: 0x0000000000000000 (expected 0x4d5f53665248425f)
=== Phase 1: Reading Btrfs Metadata ===

Step 1/6: Reading superblock...
[32mPASS[0m
  [TEST   3] Corrupted superblock: valid magic, bad checksum         btrfs2ext4: superblock checksum mismatch: stored=0xffffffff computed=0xd2da5c17
=== Phase 1: Reading Btrfs Metadata ===

Step 1/6: Reading superblock...
[32mPASS[0m

â”€â”€â”€ GROUP 2: Inode Map Stress â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  [TEST   4] Inode map: basic add/lookup                             [32mPASS[0m
  [TEST   5] Inode map: 100k entries (hash table stress)             (add=0.008s lookup=27.577s) [32mPASS[0m
  [TEST   6] Inode map: worst-case hash collision pattern            [32mPASS[0m
  [TEST   7] Inode map: zero entries lookup                          [32mPASS[0m

â”€â”€â”€ GROUP 3: Chunk Map Edge Cases â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  [TEST   8] Chunk map: resolve non-existent logical address         [32mPASS[0m
  [TEST   9] Chunk map: resolve on empty map                         [32mPASS[0m
  [TEST  10] Chunk map: many entries, boundary resolution            [32mPASS[0m

â”€â”€â”€ GROUP 4: Ext4 Layout Planner â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  [TEST  11] Planner: minimum viable device (1 MiB)                  === Ext4 Constraints & Pre-Calculation ===
  Device size:       1048576 bytes (0.0 GiB)
  Block size:        4096
  Total blocks:      256
  Blocks per group:  32768
  Number of groups:  1
  Inodes per group:  64
  Total inodes:      64
  Inode size:        256
  Reserved blocks:   8 (metadata zones)
  Data blocks req:   0 (files, index, dirs)
  Free Space Margin: 248 blocks (1.0 MiB)
========================

[32mPASS[0m
  [TEST  12] Planner: tiny device (4 KiB â€” too small)              === Ext4 Constraints & Pre-Calculation ===
  Device size:       4096 bytes (0.0 GiB)
  Block size:        4096
  Total blocks:      1
  Blocks per group:  32768
  Number of groups:  1
  Inodes per group:  16
  Total inodes:      16
  Inode size:        256
  Reserved blocks:   5 (metadata zones)
  Data blocks req:   0 (files, index, dirs)
  Free Space Margin: 18446744073709551612 blocks (17592186044416.0 MiB)
========================

[32mPASS[0m
  [TEST  13] Planner: large device (16 TiB)                          === Ext4 Constraints & Pre-Calculation ===
  Device size:       17592186044416 bytes (16384.0 GiB)
  Block size:        4096
  Total blocks:      4294967296
  Blocks per group:  32768
  Number of groups:  131072
  Inodes per group:  8192
  Total inodes:      1073741824
  Inode size:        256
  Reserved blocks:   67473433 (metadata zones)
  Data blocks req:   0 (files, index, dirs)
  Free Space Margin: 4227493863 blocks (16513647.9 MiB)
========================

[32mPASS[0m
  [TEST  14] Planner: zero-size device                               btrfs2ext4: device too small (0 bytes)
[32mPASS[0m
  [TEST  15] Planner: all valid block sizes (1k, 2k, 4k)             === Ext4 Constraints & Pre-Calculation ===
  Device size:       268435456 bytes (0.2 GiB)
  Block size:        1024
  Total blocks:      262144
  Blocks per group:  8192
  Number of groups:  32
  Inodes per group:  512
  Total inodes:      16384
  Inode size:        256
  Reserved blocks:   4200 (metadata zones)
  Data blocks req:   0 (files, index, dirs)
  Free Space Margin: 257944 blocks (251.9 MiB)
========================

=== Ext4 Constraints & Pre-Calculation ===
  Device size:       268435456 bytes (0.2 GiB)
  Block size:        2048
  Total blocks:      131072
  Blocks per group:  16384
  Number of groups:  8
  Inodes per group:  2048
  Total inodes:      16384
  Inode size:        256
  Reserved blocks:   2079 (metadata zones)
  Data blocks req:   0 (files, index, dirs)
  Free Space Margin: 128993 blocks (251.9 MiB)
========================

=== Ext4 Constraints & Pre-Calculation ===
  Device size:       268435456 bytes (0.2 GiB)
  Block size:        4096
  Total blocks:      65536
  Blocks per group:  32768
  Number of groups:  2
  Inodes per group:  8192
  Total inodes:      16384
  Inode size:        256
  Reserved blocks:   1034 (metadata zones)
  Data blocks req:   0 (files, index, dirs)
  Free Space Margin: 64502 blocks (252.0 MiB)
========================

[32mPASS[0m

â”€â”€â”€ GROUP 5: Relocator Stress â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  [TEST  16] Relocator: empty plan (no conflicts)                    === Phase 2: Planning Block Relocation ===

  Free blocks available: 65536
  Relocation entries: 0 (coalesced from individual blocks)
  Total bytes to move: 0 (0.0 MiB)
==========================================

[32mPASS[0m
  [TEST  17] Relocator: every data block is a conflict               === Phase 2: Planning Block Relocation ===

  Free blocks available: 2000
  Relocation entries: 1 (coalesced from individual blocks)
  Total bytes to move: 4091904 (3.9 MiB)
==========================================

(1 entries) [32mPASS[0m

â”€â”€â”€ GROUP 6: Device I/O Edge Cases â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  [TEST  18] Device I/O: read beyond device end                      btrfs2ext4: read beyond device end: offset=4096 size=1 dev_size=4096
btrfs2ext4: read beyond device end: offset=1 size=4096 dev_size=4096
[32mPASS[0m
  [TEST  19] Device I/O: write to read-only device                   btrfs2ext4: cannot write: device opened read-only (dry-run)
[32mPASS[0m
  [TEST  20] Device I/O: open zero-size file                         btrfs2ext4: /tmp/btrfs2ext4_test_zero.img has zero size
[32mPASS[0m

â”€â”€â”€ GROUP 7: Extent Tree Edge Cases â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  [TEST  21] Extent tree: empty file (zero extents)                  [32mPASS[0m
  [TEST  22] Extent tree: single extent (inline)                     [32mPASS[0m
  [TEST  23] Extent tree: exactly 4 extents (max inline)             [32mPASS[0m
  [TEST  24] Extent tree: 100 extents (multi-level tree)             [32mPASS[0m

â”€â”€â”€ GROUP 8: Performance Benchmarks â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  [TEST  25] BENCH: inode map 500k lookups                           (7315 lookups/sec, total=68.350s) [32mPASS[0m
  [TEST  26] BENCH: chunk map 1M resolves                            (12097895 resolves/sec, total=0.083s) [32mPASS[0m
  [TEST  27] BENCH: plan layout for 1 TiB device                     === Ext4 Constraints & Pre-Calculation ===
  Device size:       1099511627776 bytes (1024.0 GiB)
  Block size:        4096
  Total blocks:      268435456
  Blocks per group:  32768
  Number of groups:  8192
  Inodes per group:  8192
  Total inodes:      67108864
  Inode size:        256
  Reserved blocks:   4215571 (metadata zones)
  Data blocks req:   0 (files, index, dirs)
  Free Space Margin: 264219885 blocks (1032108.9 MiB)
========================

(8192 groups, 0.095s) [32mPASS[0m
  [TEST  28] BENCH: conflict bitmap build+check (100k reserved)      (100000 conflicts, 0.005s) [32mPASS[0m

â”€â”€â”€ GROUP 9: Integer Overflow / Boundary â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  [TEST  29] Overflow: block count near UINT32_MAX                   === Ext4 Constraints & Pre-Calculation ===
  Device size:       17592186040320 bytes (16384.0 GiB)
  Block size:        4096
  Total blocks:      4294967295
  Blocks per group:  32768
  Number of groups:  131072
  Inodes per group:  8192
  Total inodes:      1073741824
  Inode size:        256
  Reserved blocks:   67473433 (metadata zones)
  Data blocks req:   0 (files, index, dirs)
  Free Space Margin: 4227493862 blocks (16513647.9 MiB)
========================

(131072 groups) [32mPASS[0m
  [TEST  30] Overflow: inode ratio = 1 (inode per byte)              === Ext4 Constraints & Pre-Calculation ===
  Device size:       268435456 bytes (0.2 GiB)
  Block size:        4096
  Total blocks:      65536
  Blocks per group:  32768
  Number of groups:  2
  Inodes per group:  32768
  Total inodes:      65536
  Inode size:        256
  Reserved blocks:   4106 (metadata zones)
  Data blocks req:   0 (files, index, dirs)
  Free Space Margin: 61430 blocks (240.0 MiB)
========================

(65536 inodes) [32mPASS[0m
  [TEST  31] Overflow: inode ratio = UINT32_MAX                      === Ext4 Constraints & Pre-Calculation ===
  Device size:       1073741824 bytes (1.0 GiB)
  Block size:        4096
  Total blocks:      262144
  Blocks per group:  32768
  Number of groups:  8
  Inodes per group:  16
  Total inodes:      128
  Inode size:        256
  Reserved blocks:   39 (metadata zones)
  Data blocks req:   0 (files, index, dirs)
  Free Space Margin: 262105 blocks (1023.8 MiB)
========================

(128 inodes) [32mPASS[0m

â”€â”€â”€ GROUP 10: Memory Safety â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  [TEST  32] Memory: double free protection                          [32mPASS[0m
  [TEST  33] Memory: free after heavy operations                     [32mPASS[0m

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  Results: 33 tests run, [32m33 passed[0m
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

<end of output>
Test time =  99.55 sec
----------------------------------------------------------
Test Passed.
"stress_test" end time: Feb 24 12:38 -03
"stress_test" time elapsed: 00:01:39
----------------------------------------------------------

2/2 Testing: fuzz_test
2/2 Test: fuzz_test
Command: "/home/yuka/Proyectos/btrfs2ext4/build/test_fuzz"
Directory: /home/yuka/Proyectos/btrfs2ext4/build
"fuzz_test" start time: Feb 24 12:38 -03
Output:
----------------------------------------------------------
btrfs2ext4: superblock checksum mismatch: stored=0x00000000 computed=0xb0c2e9c3
=== BTRFS2EXT4 FUZZ & EDGE CASE TESTS ===

  [1/3] Decompression Bombs & Massive Extents... === Phase 2: Planning Block Relocation ===

  Free blocks available: 0
  Relocation entries: 0 (coalesced from individual blocks)
  Total bytes to move: 0 (0.0 MiB)
==========================================

OK
  [2/3] Relocator Wrapping & OOM States... === Phase 2: Planning Block Relocation ===

  Free blocks available: 4294967294
  Relocation entries: 0 (coalesced from individual blocks)
  Total bytes to move: 0 (0.0 MiB)
==========================================

OK
  [3/3] Superblock sys_chunk_array_size/nodesize and btree csum... === Phase 1: Reading Btrfs Metadata ===

Step 1/6: Reading superblock...
OK

All extreme edge case tests passed.
<end of output>
Test time =  34.92 sec
----------------------------------------------------------
Test Passed.
"fuzz_test" end time: Feb 24 12:39 -03
"fuzz_test" time elapsed: 00:00:34
----------------------------------------------------------

End testing: Feb 24 12:39 -03
